/* ===============  Variables  =============== */
:root{
  --primary:#FF0000;
  --primary-600:#e60000;
  --primary-700:#cc0000;
  --primary-100:#ffe5e5;

  --bg:#f7f8fb; --paper:#fff; --line:#eceff3; --text:#151922; --muted:#6b7280;

  --sidebar-w:230px;
  --sidebar-w-collapsed:84px;
  --header-h:72px;

  /*  >>> controla el ancho del logo (expandido / colapsado) */
  --logo-w: 150px;           /* cámbialo a tu gusto (antes 260px) */
  --logo-w-collapsed: 72px;  /* ancho del logo reducido */

  --radius:16px; --radius-lg:20px;
  --shadow:0 8px 24px rgba(0,0,0,.08);
  --glass:blur(14px);
  --ease:cubic-bezier(.22,1,.36,1);
}

/* ===============  Reset base  =============== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:linear-gradient(135deg,#fafbfd,#f1f3f8);
}

/* ===============  Layout  =============== */
.layout{ display:flex; min-height:100dvh; }

.sidebar{
  position:fixed; inset:0 auto 0 0;
  width:var(--sidebar-w);
  background:rgba(255,255,255,.86);
  backdrop-filter:var(--glass);
  border-right:1px solid var(--line);
  box-shadow:var(--shadow);
  display:flex; flex-direction:column;
  transition:width .35s var(--ease), transform .35s var(--ease);
  z-index:1000;
}

/* --- Brand / Logo ------------------------------------------------------- */
.brand{
  padding:18px 12px 8px;
  display:flex; justify-content:center; /* centrado del bloque */
}
.brand__full{
  display:flex; align-items:center; gap:14px;
  width:var(--logo-w); max-width:100%;
  background:linear-gradient(135deg,var(--primary) 0%,var(--primary-700) 100%);
  color:#fff; border:none; cursor:pointer;
  padding:14px 16px; border-radius:24px;
  box-shadow:0 10px 28px rgba(255,0,0,.25);
  position:relative; overflow:hidden;
  margin-inline:auto; transition:.25s var(--ease);
}
.brand__full:hover{ transform:translateY(-1px) scale(1.01) }

.brand__icon-wrap{
  position:relative; width:42px; height:42px;
  border-radius:12px; background:rgba(255,255,255,.18);
  display:grid; place-items:center;
}
.brand__icon{ width:22px; height:22px; stroke-width:2.4 }
.brand__pulse{ position:absolute; inset:0; border-radius:12px; background:rgba(255,255,255,.25); animation:breath 3s ease-in-out infinite }
@keyframes breath{0%,100%{transform:scale(1);opacity:.1}50%{transform:scale(1.15);opacity:.35}}

.brand__text{ display:flex; flex-direction:column; line-height:1 }
.brand__text strong{ font-weight:800; letter-spacing:-.02em }
.brand__text small{ opacity:.9 }

/* Cambios en modo colapsado: el mismo logo se mantiene pero reducido */
.layout--collapsed .brand__full{
  width:var(--logo-w-collapsed);
  padding:12px; justify-content:center; gap:0;
}
.layout--collapsed .brand__text{ display:none }
.layout--collapsed .brand__icon-wrap{ width:40px; height:40px }

/* --- Navegación --------------------------------------------------------- */
.nav{ padding:10px 10px 22px; overflow:auto }
.nav__section{
  margin:16px 8px 8px; text-transform:uppercase; font-weight:700;
  font-size:.72rem; color:#8b93a5; letter-spacing:.08em;
}
.nav__item{
  --pad:12px;
  display:flex; align-items:center; gap:12px;
  text-decoration:none; color:#2b303b;
  padding:12px var(--pad); margin:6px 6px;
  border-radius:16px; position:relative;
  transition: transform .25s var(--ease), background .25s var(--ease), color .25s;
}
.nav__item:hover{ background:linear-gradient(90deg,rgba(255,0,0,.06),rgba(255,0,0,.03)); transform:translateX(6px) }
.nav__item.is-active{
  background:linear-gradient(135deg,rgba(255,0,0,.10),rgba(255,0,0,.04));
  color:var(--primary-700); box-shadow:inset 0 0 0 1px rgba(255,0,0,.18);
}
.nav__icon i{ width:20px; height:20px }
.nav__labels{ display:flex; flex-direction:column; gap:2px; min-width:0 }
.nav__title{ font-weight:650; letter-spacing:-.01em }
.nav__subtitle{ font-size:.78rem; color:#7c8496 }
.nav__dot{ position:absolute; right:12px; top:50%; translate:0 -50%; width:10px; height:10px }
.nav__dot>span{ position:absolute; inset:0; border-radius:50%; background:var(--primary) }
.nav__dot>span::after{ content:""; position:absolute; inset:0; border-radius:50%; background:var(--primary); animation:pulse 2s infinite; opacity:.5 }
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(2);opacity:0}100%{opacity:0}}

.badge{
  margin-left:auto; min-width:24px; height:24px; padding:0 8px;
  display:inline-grid; place-items:center;
  border-radius:999px; font-size:.72rem; font-weight:800; color:#fff;
  background:var(--primary); box-shadow:0 6px 16px rgba(255,0,0,.25);
}
.badge--danger{ background:#d21e1e }

/* --- Logout ------------------------------------------------------------- */
.logout{ margin-top:auto; padding:12px 16px 20px }
.logout__btn{
  width:100%; display:flex; align-items:center; gap:10px;
  background:#fff; border:1px solid var(--line); border-radius:14px;
  padding:12px 14px; cursor:pointer; transition:.25s var(--ease);
}
.logout__btn:hover{ transform:translateY(-1px); border-color:#dfe5ea }
.logout__icon i{ width:18px; height:18px; color:#d21e1e }
.logout__txt{ font-weight:600 }

/* --- Main --------------------------------------------------------------- */
.main{
  margin-left:var(--sidebar-w);
  flex:1; min-width:0; display:flex; flex-direction:column;
  transition:margin .35s var(--ease), filter .2s;
}
.layout--collapsed .main{ margin-left:var(--sidebar-w-collapsed) }

/* --- Topbar ------------------------------------------------------------- */
.topbar{
  position:sticky; top:0; z-index:500;
  height:var(--header-h);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 20px; background:rgba(255,255,255,.82);
  backdrop-filter:var(--glass); border-bottom:1px solid var(--line);
}
.topbar__hamb{ display:none; border:none; background:transparent; width:40px; height:40px; border-radius:12px }
.topbar__hamb i{ width:24px; height:24px }

.crumbs{ display:flex; align-items:center; gap:10px }
.crumbs__home{ display:flex; align-items:center; gap:6px; color:#6b7280; text-decoration:none; padding:8px 10px; border-radius:10px }
.crumbs__home:hover{ background:var(--primary-100); color:var(--primary-700) }
.crumbs__home i{ width:16px; height:16px }
.crumbs__sep i{ width:16px; height:16px; color:#9aa1af }
.crumbs__current{ font-weight:800 }

.topbar__right{ display:flex; align-items:center; gap:12px }

/* --- Notifs ------------------------------------------------------------- */
.notif{ position:relative }
.notif__btn{ width:44px; height:44px; display:grid; place-items:center; border:none; background:transparent; border-radius:12px; cursor:pointer }
.notif__btn:hover{ background:#f2f4f8 }
.notif__btn i{ width:22px; height:22px }
.notif__badge{
  position:absolute; top:2px; right:2px; display:grid; place-items:center;
  min-width:18px; height:18px; padding:0 6px; font-size:.7rem; font-weight:800; color:#fff;
  background:var(--primary); border:2px solid #fff; border-radius:999px;
}
.notif__panel{
  position:absolute; right:0; top:calc(100% + 10px);
  width:360px; max-height:420px; overflow:auto;
  background:#fff; border:1px solid var(--line); border-radius:20px; box-shadow:var(--shadow);
  transform:translateY(-8px); opacity:0; visibility:hidden; transition:.25s var(--ease);
}
.notif__panel.is-open{ transform:translateY(0); opacity:1; visibility:visible }
.notif__head{ display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--line) }
.notif__count{ background:var(--primary-100); color:var(--primary-700); border-radius:999px; padding:4px 8px; font-weight:800; font-size:.72rem }
.notif__empty{ padding:24px; text-align:center; color:#80889a }
.notif__empty i{ width:28px; height:28px; color:#9aa1af }

/* --- Perfil ------------------------------------------------------------- */
.profile{ display:flex; align-items:center; gap:10px; background:#fff; border:1px solid var(--line); border-radius:14px; padding:8px 12px; cursor:pointer }
.profile__avatar{ position:relative; width:40px; height:40px; border-radius:999px; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,.06) }
.profile__avatar img{ width:100%; height:100%; object-fit:cover }
.avatar-fallback{ display:grid; place-items:center; width:100%; height:100%; color:#fff; font-weight:800; background:linear-gradient(135deg,var(--primary),var(--primary-700)) }
.status{ position:absolute; right:-1px; bottom:-1px; width:14px; height:14px; background:#10b981; border:3px solid #fff; border-radius:999px }
.profile__meta{ display:flex; flex-direction:column }
.profile__name{ font-weight:700 }
.profile__role{ color:#8790a3; font-size:.78rem }
.profile__chev{ width:18px; height:18px; color:#9aa1af }

/* --- Página ------------------------------------------------------------- */
.page{ display:flex; flex-direction:column; gap:14px }
.page__head{ background:#fff; border-bottom:1px solid var(--line); padding:5px 10px }
.page__title{ font-size:1.5rem; font-weight:900; letter-spacing:-.02em; position:relative; display:inline-block }
.title__bar{ position:absolute; left:0; bottom:-6px; width:64px; height:4px; border-radius:999px; background:linear-gradient(90deg,var(--primary),var(--primary-700)); animation:bar .9s var(--ease) both }
@keyframes bar{ from{width:0; opacity:.2} to{width:64px; opacity:1} }
.page__sub{ color:#70788b }
.page__inner{ max-width:1800px; margin:0 auto; padding:15px }

/* ===============  Estados: colapsado / móvil  =============== */
.layout--collapsed .sidebar{ width:var(--sidebar-w-collapsed) }
/* ocultamos textos del sidebar cuando está colapsado */
.layout--collapsed .nav__subtitle,
.layout--collapsed .nav__title,
.layout--collapsed .nav__section,
.layout--collapsed .logout__txt { display:none }
.layout--collapsed .nav__item{ justify-content:center }
.layout--collapsed .badge{ position:absolute; right:10px }

/* Overlay / móvil (sin blur en desktop) */
.overlay{
  position:fixed; inset:0; background:rgba(15,18,29,.35);
  backdrop-filter:none; opacity:0; visibility:hidden; transition:.25s var(--ease);
  z-index:900;
}
.overlay.is-active{ opacity:1; visibility:visible }

@media (max-width:1023.98px){
  .topbar__hamb{ display:inline-grid; place-items:center }
  .main{ margin-left:0 }
  .sidebar{ transform:translateX(-100%) }
  .layout--mobile-open .sidebar{ transform:none }
  .brand__compact{ display:none !important } /* eliminado definitivamente */
  .notif__panel{ width:min(92vw,420px); right:8px }
  .page__title{ font-size:1.6rem }
}

/* Accesibilidad */
:focus-visible{ outline:3px solid var(--primary); outline-offset:2px }
@media (prefers-reduced-motion:reduce){ *{ animation-duration:.01ms !important; transition:none !important } }
